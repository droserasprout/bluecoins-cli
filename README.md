# bluecoins-cli

A CLI tool to manage the database of Bluecoins, an awesome budget planner for Android.

## Roadmap

### 0.0.1

- [ ] Migrate this roadmap to the GitHub Issues
- [ ] Move calculations from `cli` to a separate module
- [ ] Do not f-format database queries
- [ ] Do not store cache in JSON file
- [ ] Set up a GitHub Actions pipeline
- [ ] Write a Quickstart page

### 0.1.0

- [ ] An `archive` command to move all account transactions to the virtual `Archive` account.
- [ ] `tags rename` and `transactions rename` commands to perform batch renaming of tags and transactions.

### 0.2.0

- [ ] Automatic download/upload of the latest database backup using `adb`
- [ ] A++ task: no user interaction on smartphone side at all.

## Bluecoins database structure

`*.fydb` files generated by Bluecoins export are plain SQLite databases:

```text
âžœ  ~ file Bluecoins_2022-03-19_00_57_22.fydb 
Bluecoins_2022-03-19_00_57_22.fydb: SQLite 3.x database, user version 42, last written using SQLite version 3032002, file counter 11888, database pages 154, cookie 0x16, schema 4, largest root page 25, UTF-8, version-valid-for 11888
```

e.g., transactions are stored in `TRANSACTIONSTABLE` table. Columns we are interested in `convert` command scope are `transactionCurrency` and `conversionRateNew`.

```
sqlite> select transactionsTableID, conversionRateNew, transactionCurrency from TRANSACTIONSTABLE where transactionCurrency != 'RUB' limit 5;
transactionsTableID  conversionRateNew   transactionCurrency
-------------------  ------------------  -------------------
1589351855443        0.0112947956665299  EUR                
1589351896182        0.0125486150829316  EUR                
1589352019668        0.011549686321133   EUR                
1589352314955        0.0125486150829316  EUR                
1589352314956        0.0125486150829316  EUR                
```
